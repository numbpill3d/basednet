(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2708:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l});var r=s(482),a=s(9108),i=s(1090),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let l=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5648)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9342)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\profile\\page.tsx"],c="/profile/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9197:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},2909:(e,t,s)=>{Promise.resolve().then(s.bind(s,8435))},4286:(e,t,s)=>{Promise.resolve().then(s.bind(s,7216))},7929:(e,t,s)=>{Promise.resolve().then(s.bind(s,6589))},8428:(e,t,s)=>{"use strict";var r=s(4767);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8435:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5344),a=s(7983),i=s.n(a),n=s(3729);function o({error:e,reset:t}){return(0,n.useEffect)(()=>{console.error("Global error caught:",e)},[e]),r.jsx("html",{children:(0,r.jsxs)("body",{className:"jsx-7dab83d77cc1c2fd",children:[(0,r.jsxs)("div",{className:"jsx-7dab83d77cc1c2fd error-container",children:[r.jsx("h2",{className:"jsx-7dab83d77cc1c2fd",children:"Something went wrong!"}),r.jsx("p",{className:"jsx-7dab83d77cc1c2fd",children:"We've encountered an unexpected error."}),r.jsx("button",{onClick:()=>t(),className:"jsx-7dab83d77cc1c2fd",children:"Try again"})]}),r.jsx(i(),{id:"7dab83d77cc1c2fd",children:".error-container.jsx-7dab83d77cc1c2fd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100vh;text-align:center;padding:0 20px}button.jsx-7dab83d77cc1c2fd{margin-top:20px;padding:10px 20px;background-color:#0070f3;color:white;border:none;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer}button.jsx-7dab83d77cc1c2fd:hover{background-color:#0051a2}"})]})})}},6589:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5344),a=s(3729),i=s.n(a),n=s(8428),o=s(3083),l=s(5814),d=s(6548);function c(){let e=(0,n.useRouter)(),{user:t,profile:s,isLoading:c,isAuthenticated:u,refreshUserData:p}=(0,l.a)(),[m,x]=(0,a.useState)({display_name:s?.display_name||"",bio:s?.bio||"",avatar_url:s?.avatar_url||"",custom_css:s?.custom_css||"",custom_html:s?.custom_html||""}),[h,b]=(0,a.useState)(s?.social_links||{twitter:"",github:"",website:""}),[g,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[v,w]=(0,a.useState)(null);i().useEffect(()=>{c||u||e.push("/")},[c,u,e]);let P=e=>{let{name:t,value:s}=e.target;x(e=>({...e,[t]:s}))},k=e=>{let{name:t,value:s}=e.target;b(e=>({...e,[t]:s}))},N=async e=>{e.preventDefault(),f(!0),j(null),w(null);try{let e=await d.hi.profile.updateProfile({...m,social_links:h});if(e.error)throw Error(e.error);w("Profile updated successfully!"),await p()}catch(e){j(e.message||"Failed to update profile")}finally{f(!1)}};return c?(0,r.jsxs)("div",{className:"win98-desktop",children:[r.jsx(o.Z,{}),(0,r.jsxs)("div",{className:"window",style:{maxWidth:"600px",margin:"20px auto"},children:[r.jsx("div",{className:"window-title",children:r.jsx("span",{children:"Loading..."})}),r.jsx("div",{className:"window-content",style:{textAlign:"center",padding:"20px"},children:r.jsx("div",{className:"loading-98"})})]})]}):u?(0,r.jsxs)("div",{className:"win98-desktop",children:[r.jsx(o.Z,{}),(0,r.jsxs)("div",{className:"window",style:{maxWidth:"800px",margin:"20px auto"},children:[(0,r.jsxs)("div",{className:"window-title",children:[r.jsx("span",{children:"User Profile"}),r.jsx("span",{children:"\xd7"})]}),r.jsx("div",{className:"window-content",children:(0,r.jsxs)("form",{onSubmit:N,children:[y&&(0,r.jsxs)("div",{style:{backgroundColor:"#ffdddd",border:"1px solid #ff0000",padding:"10px",marginBottom:"15px"},children:["Error: ",y]}),v&&r.jsx("div",{style:{backgroundColor:"#ddffdd",border:"1px solid #00ff00",padding:"10px",marginBottom:"15px"},children:v}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Username:"}),r.jsx("input",{type:"text",value:t?.username||"",disabled:!0,className:"input-98",style:{width:"100%"}}),r.jsx("small",{children:"Username cannot be changed"})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Display Name:"}),r.jsx("input",{type:"text",name:"display_name",value:m.display_name,onChange:P,className:"input-98",style:{width:"100%"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Bio:"}),r.jsx("textarea",{name:"bio",value:m.bio,onChange:P,className:"input-98",style:{width:"100%",height:"100px"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Avatar URL:"}),r.jsx("input",{type:"text",name:"avatar_url",value:m.avatar_url,onChange:P,className:"input-98",style:{width:"100%"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Social Links:"}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Twitter:"}),r.jsx("input",{type:"text",name:"twitter",value:h.twitter,onChange:k,className:"input-98",style:{width:"100%"},placeholder:"https://twitter.com/yourusername"})]}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"GitHub:"}),r.jsx("input",{type:"text",name:"github",value:h.github,onChange:k,className:"input-98",style:{width:"100%"},placeholder:"https://github.com/yourusername"})]}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Website:"}),r.jsx("input",{type:"text",name:"website",value:h.website,onChange:k,className:"input-98",style:{width:"100%"},placeholder:"https://yourwebsite.com"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Custom CSS:"}),r.jsx("textarea",{name:"custom_css",value:m.custom_css,onChange:P,className:"input-98",style:{width:"100%",height:"100px",fontFamily:"monospace"},placeholder:"/* Your custom CSS here */"})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Custom HTML:"}),r.jsx("textarea",{name:"custom_html",value:m.custom_html,onChange:P,className:"input-98",style:{width:"100%",height:"100px",fontFamily:"monospace"},placeholder:"<!-- Your custom HTML here -->"})]}),r.jsx("div",{style:{textAlign:"right"},children:r.jsx("button",{type:"submit",className:"btn-98",disabled:g,children:g?"Saving...":"Save Profile"})})]})})]})]}):null}},3083:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(5344);s(3729);var a=s(6506),i=s(5814);function n(){let{user:e,isAuthenticated:t,isLoading:s,login:n,logout:o}=(0,i.a)();return(0,r.jsxs)("nav",{className:"navbar-98",children:[r.jsx("button",{className:"btn-98",children:"Start"}),r.jsx("div",{style:{marginLeft:"10px"},children:"|"}),r.jsx(a.default,{href:"/",className:"btn-98",children:"Home"}),r.jsx(a.default,{href:"/browse",className:"btn-98",children:"Browse"}),r.jsx(a.default,{href:"/webrings",className:"btn-98",children:"Webrings"}),s?r.jsx("div",{className:"loading-98",style:{marginLeft:"auto"}}):t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(a.default,{href:"/dashboard",className:"btn-98",children:"My Dashboard"}),r.jsx(a.default,{href:"/profile",className:"btn-98",children:"Profile"}),(0,r.jsxs)("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>o(),children:["Logout (",e?.username,")"]})]}):r.jsx("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>n(),children:"Login"}),r.jsx(a.default,{href:"/help",className:"btn-98",children:"Help"})]})}},7216:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(5344);s(3729);var a=s(7674),i=s(5814);function n({children:e}){return r.jsx(a.SessionProvider,{children:r.jsx(i.H,{children:e})})}},5814:(e,t,s)=>{"use strict";s.d(t,{H:()=>l,a:()=>d});var r=s(5344),a=s(3729),i=s(7674),n=s(6548);let o=(0,a.createContext)(void 0);function l({children:e}){let{data:t,status:s}=(0,i.useSession)(),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),b=async()=>{if(!t?.user){d(null),u(null),m(!1);return}try{m(!0),h(null);let e=await n.hi.user.getCurrentUser();if(e.error)throw Error(e.error);d(e.data?.user||null);let t=await n.hi.profile.getProfile();if(t.error)throw Error(t.error);u(t.data?.profile||null)}catch(e){console.error("Error fetching user data:",e),h(e.message)}finally{m(!1)}};(0,a.useEffect)(()=>{"loading"!==s&&b()},[t,s]);let g=async()=>{try{await (0,i.signIn)("indieauth",{callbackUrl:"/"})}catch(e){console.error("Login error:",e),h(e.message)}},f=async()=>{try{await (0,i.signOut)({callbackUrl:"/"}),d(null),u(null)}catch(e){console.error("Logout error:",e),h(e.message)}},y=async()=>{await b()};return r.jsx(o.Provider,{value:{user:l,profile:c,isLoading:p,isAuthenticated:!!l,error:x,login:g,logout:f,refreshUserData:y},children:e})}function d(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6548:(e,t,s)=>{"use strict";s.d(t,{hi:()=>i});class r extends Error{constructor(e,t){super(e),this.status=t,this.name="ApiError"}}async function a(e,t={}){try{let s=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}}),a=await s.json();if(!s.ok)throw new r(a.error||"An error occurred",s.status);return{data:a}}catch(e){return{error:e.message}}}let i={user:{getCurrentUser:async()=>a("/api/users?me=true"),getUserByUsername:async e=>a(`/api/users/${e}`),updateUser:async e=>a("/api/users",{method:"PUT",body:JSON.stringify(e)}),listUsers:async({limit:e=10,offset:t=0}={})=>a(`/api/users?limit=${e}&offset=${t}`)},profile:{getProfile:async()=>a("/api/profile"),updateProfile:async e=>a("/api/profile",{method:"PUT",body:JSON.stringify(e)})},ipfs:{getContent:async({limit:e=10,offset:t=0}={})=>a(`/api/ipfs?limit=${e}&offset=${t}`),getContentByCid:async e=>a(`/api/ipfs/${e}`),createContent:async e=>a("/api/ipfs",{method:"POST",body:JSON.stringify(e)}),updatePinStatus:async(e,t)=>a(`/api/ipfs/${e}`,{method:"PATCH",body:JSON.stringify({pinned:t})}),deleteContent:async e=>a(`/api/ipfs/${e}`,{method:"DELETE"})}}},1090:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\app\global-error.js`),{__esModule:a,$$typeof:i}=r,n=r.default},9342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>p});var r=s(5036),a=s(8553),i=s.n(a),n=s(380),o=s.n(n);s(2),s(5023),s(4141);let l=(0,s(6843).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\components\Providers.tsx`),{__esModule:d,$$typeof:c}=l,u=l.default,p={title:"Basednet - The Next-Gen Indie Web Platform",description:"Create, customize, and host your personal website with P2P hosting, webrings, and AI-powered discovery on Basednet.",keywords:["indie web","personal website","webring","P2P hosting","IPFS","web3"]};function m({children:e}){return r.jsx("html",{lang:"en",className:`${i().variable} ${o().variable}`,children:r.jsx("body",{className:"win98-desktop",children:r.jsx(u,{children:e})})})}},5648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\app\profile\page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default},5023:()=>{},4141:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,72,506],()=>s(2708));module.exports=r})();