(()=>{var e={};e.id=178,e.ids=[178],e.modules={58097:e=>{"use strict";e.exports=require("@sentry/nextjs")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50852:e=>{"use strict";e.exports=require("async_hooks")},32081:e=>{"use strict";e.exports=require("child_process")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},13639:e=>{"use strict";e.exports=require("domain")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},31405:e=>{"use strict";e.exports=require("inspector")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},15206:e=>{"use strict";e.exports=require("zlib")},4408:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d}),s(89771);var r=s(38735),a=s(62815),i=s.n(a),n=s(88563),o=s(14192),l=s(52947),c=s(50252);function d(){let e=(0,n.useRouter)(),{user:t,profile:s,isLoading:d,isAuthenticated:u,refreshUserData:p}=(0,l.a)(),[m,h]=(0,a.useState)({display_name:s?.display_name||"",bio:s?.bio||"",avatar_url:s?.avatar_url||"",custom_css:s?.custom_css||"",custom_html:s?.custom_html||""}),[x,g]=(0,a.useState)(s?.social_links||{twitter:"",github:"",website:""}),[y,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[w,j]=(0,a.useState)(null);i().useEffect(()=>{d||u||e.push("/")},[d,u,e]);let _=e=>{let{name:t,value:s}=e.target;h(e=>({...e,[t]:s}))},P=e=>{let{name:t,value:s}=e.target;g(e=>({...e,[t]:s}))},S=async e=>{e.preventDefault(),f(!0),v(null),j(null);try{let e=await c.hi.profile.updateProfile({...m,social_links:x});if(e.error)throw Error(e.error);j("Profile updated successfully!"),await p()}catch(e){v(e.message||"Failed to update profile")}finally{f(!1)}};return d?(0,r.jsxs)("div",{className:"win98-desktop",children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:"window",style:{maxWidth:"600px",margin:"20px auto"},children:[(0,r.jsx)("div",{className:"window-title",children:(0,r.jsx)("span",{children:"Loading..."})}),(0,r.jsx)("div",{className:"window-content",style:{textAlign:"center",padding:"20px"},children:(0,r.jsx)("div",{className:"loading-98"})})]})]}):u?(0,r.jsxs)("div",{className:"win98-desktop",children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:"window",style:{maxWidth:"800px",margin:"20px auto"},children:[(0,r.jsxs)("div",{className:"window-title",children:[(0,r.jsx)("span",{children:"User Profile"}),(0,r.jsx)("span",{children:"\xd7"})]}),(0,r.jsx)("div",{className:"window-content",children:(0,r.jsxs)("form",{onSubmit:S,children:[b&&(0,r.jsxs)("div",{style:{backgroundColor:"#ffdddd",border:"1px solid #ff0000",padding:"10px",marginBottom:"15px"},children:["Error: ",b]}),w&&(0,r.jsx)("div",{style:{backgroundColor:"#ddffdd",border:"1px solid #00ff00",padding:"10px",marginBottom:"15px"},children:w}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Username:"}),(0,r.jsx)("input",{type:"text",value:t?.username||"",disabled:!0,className:"input-98",style:{width:"100%"}}),(0,r.jsx)("small",{children:"Username cannot be changed"})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Display Name:"}),(0,r.jsx)("input",{type:"text",name:"display_name",value:m.display_name,onChange:_,className:"input-98",style:{width:"100%"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Bio:"}),(0,r.jsx)("textarea",{name:"bio",value:m.bio,onChange:_,className:"input-98",style:{width:"100%",height:"100px"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Avatar URL:"}),(0,r.jsx)("input",{type:"text",name:"avatar_url",value:m.avatar_url,onChange:_,className:"input-98",style:{width:"100%"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Social Links:"}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Twitter:"}),(0,r.jsx)("input",{type:"text",name:"twitter",value:x.twitter,onChange:P,className:"input-98",style:{width:"100%"},placeholder:"https://twitter.com/yourusername"})]}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"GitHub:"}),(0,r.jsx)("input",{type:"text",name:"github",value:x.github,onChange:P,className:"input-98",style:{width:"100%"},placeholder:"https://github.com/yourusername"})]}),(0,r.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Website:"}),(0,r.jsx)("input",{type:"text",name:"website",value:x.website,onChange:P,className:"input-98",style:{width:"100%"},placeholder:"https://yourwebsite.com"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Custom CSS:"}),(0,r.jsx)("textarea",{name:"custom_css",value:m.custom_css,onChange:_,className:"input-98",style:{width:"100%",height:"100px",fontFamily:"monospace"},placeholder:"/* Your custom CSS here */"})]}),(0,r.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Custom HTML:"}),(0,r.jsx)("textarea",{name:"custom_html",value:m.custom_html,onChange:_,className:"input-98",style:{width:"100%",height:"100px",fontFamily:"monospace"},placeholder:"<!-- Your custom HTML here -->"})]}),(0,r.jsx)("div",{style:{textAlign:"right"},children:(0,r.jsx)("button",{type:"submit",className:"btn-98",disabled:y,children:y?"Saving...":"Save Profile"})})]})})]})]}):null}},95290:(e,t,s)=>{"use strict";let r;s.r(t),s.d(t,{default:()=>w,generateImageMetadata:()=>b,generateMetadata:()=>f,generateViewport:()=>v,metadata:()=>y}),s(80001);var a=s(16915),i=s(61907),n=s(58097),o=s(54580),l=s(16867),c=s(19010),d=s.n(c),u=s(43958),p=s.n(u);s(853),s(5023),s(44141);let m=(0,s(94006).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\components\Providers.tsx`),{__esModule:h,$$typeof:x}=m,g=m.default,y={title:"Basednet - The Next-Gen Indie Web Platform",description:"Create, customize, and host your personal website with P2P hosting, webrings, and AI-powered discovery on Basednet.",keywords:["indie web","personal website","webring","P2P hosting","IPFS","web3"]};r=new Proxy(function({children:e}){return(0,l.jsx)("html",{lang:"en",className:`${d().variable} ${p().variable}`,children:(0,l.jsx)("body",{className:"win98-desktop",children:(0,l.jsx)(g,{children:e})})})},{apply:(e,t,s)=>{let r,l,c;try{let e=o.requestAsyncStorage.getStore();r=(0,a.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),l=(0,a.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),c=(0,i.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/",componentType:"Layout",sentryTraceHeader:r,baggageHeader:l,headers:c}).apply(t,s)}});let f=void 0,b=void 0,v=void 0,w=r},81350:(e,t,s)=>{"use strict";let r;s.r(t),s.d(t,{$$typeof:()=>d,__esModule:()=>c,default:()=>x,generateImageMetadata:()=>m,generateMetadata:()=>p,generateViewport:()=>h}),s(80001);var a=s(16915),i=s(61907),n=s(58097),o=s(54580);let l=(0,s(94006).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\app\profile\page.tsx`),{__esModule:c,$$typeof:d}=l,u=l.default;r="function"==typeof u?new Proxy(u,{apply:(e,t,s)=>{let r,l,c;try{let e=o.requestAsyncStorage.getStore();r=(0,a.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),l=(0,a.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),c=(0,i.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return n.wrapServerComponentWithSentry(e,{componentRoute:"/profile",componentType:"Unknown",sentryTraceHeader:r,baggageHeader:l,headers:c}).apply(t,s)}}):u;let p=void 0,m=void 0,h=void 0,x=r},7910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(10550),a=s(6566),i=s(81286),n=s.n(i),o=s(4152),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81350)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95290)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,28324,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\profile\\page.tsx"],u="/profile/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},89197:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,60254,23)),Promise.resolve().then(s.t.bind(s,73017,23)),Promise.resolve().then(s.t.bind(s,77397,23)),Promise.resolve().then(s.t.bind(s,97605,23)),Promise.resolve().then(s.t.bind(s,98641,23)),Promise.resolve().then(s.t.bind(s,9036,23))},34286:(e,t,s)=>{Promise.resolve().then(s.bind(s,23796))},27929:(e,t,s)=>{Promise.resolve().then(s.bind(s,4408))},89771:(e,t,s)=>{"use strict";var r=s(96673),a=s(22604),i="undefined"!=typeof global?global:"undefined"!=typeof self?self:{};i.__sentryRewritesTunnelPath__=void 0,i.SENTRY_RELEASE={id:"wdkRqJwFkIUdQPuSy7-Vq"},i.__sentryBasePath=void 0,i.__rewriteFramesDistDir__=".next",r.S1({dsn:process.env.SENTRY_DSN,tracesSampleRate:.1,integrations:[new a.BrowserTracing({tracePropagationTargets:["localhost",/^https:\/\/[^/]*\.basednet\.com/]})],environment:"production",beforeSend(e){if(e.exception){let t=e.exception.values?.[0]?.value;if(t?.includes("ResizeObserver loop"))return null}return e},debug:!1,maxBreadcrumbs:50,attachStacktrace:!0})},88563:(e,t,s)=>{"use strict";var r=s(37182);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},14192:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(38735);s(62815);var a=s(58424),i=s(52947);function n(){let{user:e,isAuthenticated:t,isLoading:s,login:n,logout:o}=(0,i.a)();return(0,r.jsxs)("nav",{className:"navbar-98",children:[r.jsx("button",{className:"btn-98",children:"Start"}),r.jsx("div",{style:{marginLeft:"10px"},children:"|"}),r.jsx(a.default,{href:"/",className:"btn-98",children:"Home"}),r.jsx(a.default,{href:"/browse",className:"btn-98",children:"Browse"}),r.jsx(a.default,{href:"/webrings",className:"btn-98",children:"Webrings"}),s?r.jsx("div",{className:"loading-98",style:{marginLeft:"auto"}}):t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(a.default,{href:"/dashboard",className:"btn-98",children:"My Dashboard"}),r.jsx(a.default,{href:"/profile",className:"btn-98",children:"Profile"}),(0,r.jsxs)("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>o(),children:["Logout (",e?.username,")"]})]}):r.jsx("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>n(),children:"Login"}),r.jsx(a.default,{href:"/help",className:"btn-98",children:"Help"})]})}},23796:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(38735);s(62815);var a=s(79427),i=s(52947);function n({children:e}){return r.jsx(a.SessionProvider,{children:r.jsx(i.H,{children:e})})}},52947:(e,t,s)=>{"use strict";s.d(t,{H:()=>l,a:()=>c});var r=s(38735),a=s(62815),i=s(79427),n=s(50252);let o=(0,a.createContext)(void 0);function l({children:e}){let{data:t,status:s}=(0,i.useSession)(),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),g=async()=>{if(!t?.user){c(null),u(null),m(!1);return}try{m(!0),x(null);let e=await n.hi.user.getCurrentUser();if(e.error)throw Error(e.error);c(e.data?.user||null);let t=await n.hi.profile.getProfile();if(t.error)throw Error(t.error);u(t.data?.profile||null)}catch(e){console.error("Error fetching user data:",e),x(e.message)}finally{m(!1)}};(0,a.useEffect)(()=>{"loading"!==s&&g()},[t,s]);let y=async()=>{try{await (0,i.signIn)("indieauth",{callbackUrl:"/"})}catch(e){console.error("Login error:",e),x(e.message)}},f=async()=>{try{await (0,i.signOut)({callbackUrl:"/"}),c(null),u(null)}catch(e){console.error("Logout error:",e),x(e.message)}},b=async()=>{await g()};return r.jsx(o.Provider,{value:{user:l,profile:d,isLoading:p,isAuthenticated:!!l,error:h,login:y,logout:f,refreshUserData:b},children:e})}function c(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},50252:(e,t,s)=>{"use strict";s.d(t,{hi:()=>i});class r extends Error{constructor(e,t){super(e),this.status=t,this.name="ApiError"}}async function a(e,t={}){try{let s=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}}),a=await s.json();if(!s.ok)throw new r(a.error||"An error occurred",s.status);return{data:a}}catch(e){return{error:e.message}}}let i={user:{getCurrentUser:async()=>a("/api/users?me=true"),getUserByUsername:async e=>a(`/api/users/${e}`),updateUser:async e=>a("/api/users",{method:"PUT",body:JSON.stringify(e)}),listUsers:async({limit:e=10,offset:t=0}={})=>a(`/api/users?limit=${e}&offset=${t}`)},profile:{getProfile:async()=>a("/api/profile"),updateProfile:async e=>a("/api/profile",{method:"PUT",body:JSON.stringify(e)})},ipfs:{getContent:async({limit:e=10,offset:t=0}={})=>a(`/api/ipfs?limit=${e}&offset=${t}`),getContentByCid:async e=>a(`/api/ipfs/${e}`),createContent:async e=>a("/api/ipfs",{method:"POST",body:JSON.stringify(e)}),updatePinStatus:async(e,t)=>a(`/api/ipfs/${e}`,{method:"PATCH",body:JSON.stringify({pinned:t})}),deleteContent:async e=>a(`/api/ipfs/${e}`,{method:"DELETE"})}}},80001:(e,t,s)=>{"use strict";var r=s(58097),a="undefined"!=typeof global?global:"undefined"!=typeof self?self:{};a.__sentryRewritesTunnelPath__=void 0,a.SENTRY_RELEASE={id:"wdkRqJwFkIUdQPuSy7-Vq"},a.__sentryBasePath=void 0,a.__rewriteFramesDistDir__=".next",r.init({dsn:process.env.SENTRY_DSN,tracesSampleRate:.1,integrations:[new r.BrowserTracing({tracePropagationTargets:["localhost",/^https:\/\/[^/]*\.basednet\.com/]})],environment:"production",beforeSend(e){if(e.exception){let t=e.exception.values?.[0]?.value;if(t?.includes("ResizeObserver loop"))return null}return e},debug:!1,maxBreadcrumbs:50,attachStacktrace:!0})},5023:()=>{},44141:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[565,329,501],()=>s(7910));module.exports=r})();
//# sourceMappingURL=page.js.map