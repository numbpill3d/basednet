(()=>{var e={};e.id=702,e.ids=[702],e.modules={58097:e=>{"use strict";e.exports=require("@sentry/nextjs")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50852:e=>{"use strict";e.exports=require("async_hooks")},32081:e=>{"use strict";e.exports=require("child_process")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},13639:e=>{"use strict";e.exports=require("domain")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},31405:e=>{"use strict";e.exports=require("inspector")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},15206:e=>{"use strict";e.exports=require("zlib")},93780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d}),r(89771);var s=r(38735),n=r(62815),i=r(88563),a=r(14192),o=r(52947),l=r(50252);function d(){let e=(0,i.useRouter)(),{isLoading:t,isAuthenticated:r}=(0,o.a)(),[d,c]=(0,n.useState)([]),[p,u]=(0,n.useState)({total:0,pinned:0,totalSize:0}),[h,x]=(0,n.useState)(!0),[g,m]=(0,n.useState)(null),[y,f]=(0,n.useState)(""),[b,j]=(0,n.useState)(""),[v,w]=(0,n.useState)(""),[S,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t||r||e.push("/")},[t,r,e]),(0,n.useEffect)(()=>{r&&_()},[r]);let _=async()=>{x(!0),m(null);try{let e=await l.hi.ipfs.getContent();if(e.error)throw Error(e.error);c(e.data?.content||[]),u(e.data?.stats||{total:0,pinned:0,totalSize:0})}catch(e){console.error("Error fetching IPFS content:",e),m(e.message)}finally{x(!1)}},C=async e=>{if(e.preventDefault(),!y){m("CID is required");return}P(!0),m(null);try{let e=await l.hi.ipfs.createContent({cid:y,filename:b||void 0,contentType:v||void 0});if(e.error)throw Error(e.error);f(""),j(""),w(""),_()}catch(e){m(e.message)}finally{P(!1)}},N=async(e,t)=>{try{let r=await l.hi.ipfs.updatePinStatus(e,!t);if(r.error)throw Error(r.error);c(r=>r.map(r=>r.cid===e?{...r,pinned:!t}:r)),u(e=>({...e,pinned:t?Math.max(0,e.pinned-1):e.pinned+1}))}catch(e){m(e.message)}},A=async e=>{if(confirm("Are you sure you want to delete this content?"))try{let t=await l.hi.ipfs.deleteContent(e);if(t.error)throw Error(t.error);_()}catch(e){m(e.message)}},k=e=>{if(void 0===e)return"Unknown";if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]};return t?(0,s.jsxs)("div",{className:"win98-desktop",children:[(0,s.jsx)(a.Z,{}),(0,s.jsxs)("div",{className:"window",style:{maxWidth:"600px",margin:"20px auto"},children:[(0,s.jsx)("div",{className:"window-title",children:(0,s.jsx)("span",{children:"Loading..."})}),(0,s.jsx)("div",{className:"window-content",style:{textAlign:"center",padding:"20px"},children:(0,s.jsx)("div",{className:"loading-98"})})]})]}):r?(0,s.jsxs)("div",{className:"win98-desktop",children:[(0,s.jsx)(a.Z,{}),(0,s.jsxs)("div",{className:"window",style:{maxWidth:"900px",margin:"20px auto"},children:[(0,s.jsxs)("div",{className:"window-title",children:[(0,s.jsx)("span",{children:"IPFS Content Dashboard"}),(0,s.jsx)("span",{children:"\xd7"})]}),(0,s.jsxs)("div",{className:"window-content",children:[g&&(0,s.jsxs)("div",{style:{backgroundColor:"#ffdddd",border:"1px solid #ff0000",padding:"10px",marginBottom:"15px"},children:["Error: ",g]}),(0,s.jsxs)("div",{style:{display:"flex",marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{flex:1,padding:"10px",border:"1px solid #c0c0c0"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 10px 0"},children:"Content Stats"}),(0,s.jsx)("table",{style:{width:"100%"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Total Files:"}),(0,s.jsx)("td",{children:p.total})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Pinned Files:"}),(0,s.jsx)("td",{children:p.pinned})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Total Size:"}),(0,s.jsx)("td",{children:k(p.totalSize)})]})]})})]}),(0,s.jsxs)("div",{style:{flex:1,padding:"10px",border:"1px solid #c0c0c0",marginLeft:"10px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 10px 0"},children:"Add New Content"}),(0,s.jsxs)("form",{onSubmit:C,children:[(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{htmlFor:"cid",style:{display:"block",marginBottom:"5px"},children:"CID:"}),(0,s.jsx)("input",{id:"cid",type:"text",value:y,onChange:e=>f(e.target.value),className:"input-98",style:{width:"100%"},placeholder:"Qm...",required:!0})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{htmlFor:"filename",style:{display:"block",marginBottom:"5px"},children:"Filename (optional):"}),(0,s.jsx)("input",{id:"filename",type:"text",value:b,onChange:e=>j(e.target.value),className:"input-98",style:{width:"100%"},placeholder:"example.jpg"})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{htmlFor:"contentType",style:{display:"block",marginBottom:"5px"},children:"Content Type (optional):"}),(0,s.jsx)("input",{id:"contentType",type:"text",value:v,onChange:e=>w(e.target.value),className:"input-98",style:{width:"100%"},placeholder:"image/jpeg"})]}),(0,s.jsx)("button",{type:"submit",className:"btn-98",disabled:S,children:S?"Adding...":"Add Content"})]})]})]}),(0,s.jsx)("h3",{children:"Your IPFS Content"}),h?(0,s.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:(0,s.jsx)("div",{className:"loading-98"})}):0===d.length?(0,s.jsx)("p",{children:"You don't have any IPFS content yet. Add some using the form above."}):(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#c0c0c0"},children:[(0,s.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Filename"}),(0,s.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"CID"}),(0,s.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Type"}),(0,s.jsx)("th",{style:{padding:"8px",textAlign:"right"},children:"Size"}),(0,s.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Pinned"}),(0,s.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:d.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #c0c0c0"},children:[(0,s.jsx)("td",{style:{padding:"8px"},children:e.filename||"Unnamed"}),(0,s.jsx)("td",{style:{padding:"8px"},children:(0,s.jsxs)("a",{href:`https://ipfs.io/ipfs/${e.cid}`,target:"_blank",rel:"noopener noreferrer",children:[e.cid.substring(0,10),"..."]})}),(0,s.jsx)("td",{style:{padding:"8px"},children:e.content_type||"Unknown"}),(0,s.jsx)("td",{style:{padding:"8px",textAlign:"right"},children:k(e.size)}),(0,s.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,s.jsx)("input",{type:"checkbox",checked:e.pinned,onChange:()=>N(e.cid,e.pinned),"aria-label":`Pin ${e.filename||"content"}`})}),(0,s.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,s.jsx)("button",{className:"btn-98 btn-small",onClick:()=>A(e.cid),"aria-label":`Delete ${e.filename||"content"}`,children:"Delete"})})]},e.id))})]})]})]})]}):null}},57579:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{$$typeof:()=>c,__esModule:()=>d,default:()=>g,generateImageMetadata:()=>h,generateMetadata:()=>u,generateViewport:()=>x}),r(80001);var n=r(16915),i=r(61907),a=r(58097),o=r(54580);let l=(0,r(94006).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\app\dashboard\page.tsx`),{__esModule:d,$$typeof:c}=l,p=l.default;s="function"==typeof p?new Proxy(p,{apply:(e,t,r)=>{let s,l,d;try{let e=o.requestAsyncStorage.getStore();s=(0,n.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),l=(0,n.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),d=(0,i.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return a.wrapServerComponentWithSentry(e,{componentRoute:"/dashboard",componentType:"Unknown",sentryTraceHeader:s,baggageHeader:l,headers:d}).apply(t,r)}}):p;let u=void 0,h=void 0,x=void 0,g=s},95290:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{default:()=>v,generateImageMetadata:()=>b,generateMetadata:()=>f,generateViewport:()=>j,metadata:()=>y}),r(80001);var n=r(16915),i=r(61907),a=r(58097),o=r(54580),l=r(16867),d=r(19010),c=r.n(d),p=r(43958),u=r.n(p);r(853),r(5023),r(44141);let h=(0,r(94006).createProxy)(String.raw`C:\Users\adoni\Desktop\projects\basednet\src\components\Providers.tsx`),{__esModule:x,$$typeof:g}=h,m=h.default,y={title:"Basednet - The Next-Gen Indie Web Platform",description:"Create, customize, and host your personal website with P2P hosting, webrings, and AI-powered discovery on Basednet.",keywords:["indie web","personal website","webring","P2P hosting","IPFS","web3"]};s=new Proxy(function({children:e}){return(0,l.jsx)("html",{lang:"en",className:`${c().variable} ${u().variable}`,children:(0,l.jsx)("body",{className:"win98-desktop",children:(0,l.jsx)(m,{children:e})})})},{apply:(e,t,r)=>{let s,l,d;try{let e=o.requestAsyncStorage.getStore();s=(0,n.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("sentry-trace")]),()=>void 0),l=(0,n.h)((0,i.x)([e,"optionalAccess",e=>e.headers,"access",e=>e.get,"call",e=>e("baggage")]),()=>void 0),d=(0,i.x)([e,"optionalAccess",e=>e.headers])}catch(e){}return a.wrapServerComponentWithSentry(e,{componentRoute:"/",componentType:"Layout",sentryTraceHeader:s,baggageHeader:l,headers:d}).apply(t,r)}});let f=void 0,b=void 0,j=void 0,v=s},67028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(10550),n=r(6566),i=r(81286),a=r.n(i),o=r(4152),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,57579)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95290)),"C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,28324,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\adoni\\Desktop\\projects\\basednet\\src\\app\\dashboard\\page.tsx"],p="/dashboard/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},89197:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,60254,23)),Promise.resolve().then(r.t.bind(r,73017,23)),Promise.resolve().then(r.t.bind(r,77397,23)),Promise.resolve().then(r.t.bind(r,97605,23)),Promise.resolve().then(r.t.bind(r,98641,23)),Promise.resolve().then(r.t.bind(r,9036,23))},5905:(e,t,r)=>{Promise.resolve().then(r.bind(r,93780))},34286:(e,t,r)=>{Promise.resolve().then(r.bind(r,23796))},89771:(e,t,r)=>{"use strict";var s=r(96673),n=r(22604),i="undefined"!=typeof global?global:"undefined"!=typeof self?self:{};i.__sentryRewritesTunnelPath__=void 0,i.SENTRY_RELEASE={id:"wdkRqJwFkIUdQPuSy7-Vq"},i.__sentryBasePath=void 0,i.__rewriteFramesDistDir__=".next",s.S1({dsn:process.env.SENTRY_DSN,tracesSampleRate:.1,integrations:[new n.BrowserTracing({tracePropagationTargets:["localhost",/^https:\/\/[^/]*\.basednet\.com/]})],environment:"production",beforeSend(e){if(e.exception){let t=e.exception.values?.[0]?.value;if(t?.includes("ResizeObserver loop"))return null}return e},debug:!1,maxBreadcrumbs:50,attachStacktrace:!0})},88563:(e,t,r)=>{"use strict";var s=r(37182);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},14192:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(38735);r(62815);var n=r(58424),i=r(52947);function a(){let{user:e,isAuthenticated:t,isLoading:r,login:a,logout:o}=(0,i.a)();return(0,s.jsxs)("nav",{className:"navbar-98",children:[s.jsx("button",{className:"btn-98",children:"Start"}),s.jsx("div",{style:{marginLeft:"10px"},children:"|"}),s.jsx(n.default,{href:"/",className:"btn-98",children:"Home"}),s.jsx(n.default,{href:"/browse",className:"btn-98",children:"Browse"}),s.jsx(n.default,{href:"/webrings",className:"btn-98",children:"Webrings"}),r?s.jsx("div",{className:"loading-98",style:{marginLeft:"auto"}}):t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/dashboard",className:"btn-98",children:"My Dashboard"}),s.jsx(n.default,{href:"/profile",className:"btn-98",children:"Profile"}),(0,s.jsxs)("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>o(),children:["Logout (",e?.username,")"]})]}):s.jsx("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>a(),children:"Login"}),s.jsx(n.default,{href:"/help",className:"btn-98",children:"Help"})]})}},23796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(38735);r(62815);var n=r(79427),i=r(52947);function a({children:e}){return s.jsx(n.SessionProvider,{children:s.jsx(i.H,{children:e})})}},52947:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,a:()=>d});var s=r(38735),n=r(62815),i=r(79427),a=r(50252);let o=(0,n.createContext)(void 0);function l({children:e}){let{data:t,status:r}=(0,i.useSession)(),[l,d]=(0,n.useState)(null),[c,p]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),[x,g]=(0,n.useState)(null),m=async()=>{if(!t?.user){d(null),p(null),h(!1);return}try{h(!0),g(null);let e=await a.hi.user.getCurrentUser();if(e.error)throw Error(e.error);d(e.data?.user||null);let t=await a.hi.profile.getProfile();if(t.error)throw Error(t.error);p(t.data?.profile||null)}catch(e){console.error("Error fetching user data:",e),g(e.message)}finally{h(!1)}};(0,n.useEffect)(()=>{"loading"!==r&&m()},[t,r]);let y=async()=>{try{await (0,i.signIn)("indieauth",{callbackUrl:"/"})}catch(e){console.error("Login error:",e),g(e.message)}},f=async()=>{try{await (0,i.signOut)({callbackUrl:"/"}),d(null),p(null)}catch(e){console.error("Logout error:",e),g(e.message)}},b=async()=>{await m()};return s.jsx(o.Provider,{value:{user:l,profile:c,isLoading:u,isAuthenticated:!!l,error:x,login:y,logout:f,refreshUserData:b},children:e})}function d(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},50252:(e,t,r)=>{"use strict";r.d(t,{hi:()=>i});class s extends Error{constructor(e,t){super(e),this.status=t,this.name="ApiError"}}async function n(e,t={}){try{let r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}}),n=await r.json();if(!r.ok)throw new s(n.error||"An error occurred",r.status);return{data:n}}catch(e){return{error:e.message}}}let i={user:{getCurrentUser:async()=>n("/api/users?me=true"),getUserByUsername:async e=>n(`/api/users/${e}`),updateUser:async e=>n("/api/users",{method:"PUT",body:JSON.stringify(e)}),listUsers:async({limit:e=10,offset:t=0}={})=>n(`/api/users?limit=${e}&offset=${t}`)},profile:{getProfile:async()=>n("/api/profile"),updateProfile:async e=>n("/api/profile",{method:"PUT",body:JSON.stringify(e)})},ipfs:{getContent:async({limit:e=10,offset:t=0}={})=>n(`/api/ipfs?limit=${e}&offset=${t}`),getContentByCid:async e=>n(`/api/ipfs/${e}`),createContent:async e=>n("/api/ipfs",{method:"POST",body:JSON.stringify(e)}),updatePinStatus:async(e,t)=>n(`/api/ipfs/${e}`,{method:"PATCH",body:JSON.stringify({pinned:t})}),deleteContent:async e=>n(`/api/ipfs/${e}`,{method:"DELETE"})}}},80001:(e,t,r)=>{"use strict";var s=r(58097),n="undefined"!=typeof global?global:"undefined"!=typeof self?self:{};n.__sentryRewritesTunnelPath__=void 0,n.SENTRY_RELEASE={id:"wdkRqJwFkIUdQPuSy7-Vq"},n.__sentryBasePath=void 0,n.__rewriteFramesDistDir__=".next",s.init({dsn:process.env.SENTRY_DSN,tracesSampleRate:.1,integrations:[new s.BrowserTracing({tracePropagationTargets:["localhost",/^https:\/\/[^/]*\.basednet\.com/]})],environment:"production",beforeSend(e){if(e.exception){let t=e.exception.values?.[0]?.value;if(t?.includes("ResizeObserver loop"))return null}return e},debug:!1,maxBreadcrumbs:50,attachStacktrace:!0})},5023:()=>{},44141:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[565,329,501],()=>r(67028));module.exports=s})();
//# sourceMappingURL=page.js.map