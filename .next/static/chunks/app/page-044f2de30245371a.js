(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2125:function(e,s,t){Promise.resolve().then(t.bind(t,8836))},8836:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(3827),i=t(4090),r=t(3170),l=t(3779),a=t(8222);function d(){let{isAuthenticated:e,user:s,profile:t}=(0,l.a)(),[d,c]=(0,i.useState)({totalSites:88888,activeToday:1337,webrings:42,ipfsNodes:404}),[o,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{e&&(h(!0),a.hi.ipfs.getContent().then(e=>{var s;(null===(s=e.data)||void 0===s?void 0:s.stats)&&console.log("IPFS stats:",e.data.stats)}).catch(e=>{console.error("Error fetching IPFS stats:",e)}).finally(()=>{h(!1)}))},[e]),(0,n.jsxs)("div",{className:"win98-desktop",children:[(0,n.jsx)(r.Z,{}),(0,n.jsxs)("div",{className:"window",style:{maxWidth:"600px",margin:"20px auto"},children:[(0,n.jsxs)("div",{className:"window-title",children:[(0,n.jsx)("span",{children:"BASEDNET.EXE"}),(0,n.jsx)("span",{children:"\xd7"})]}),(0,n.jsxs)("div",{className:"window-content",children:[(0,n.jsx)("pre",{className:"ascii-art retrowave-glow",children:"\n ▄▄▄▄    ▄▄▄        ██████ ▓█████ ▓█████▄  ███▄    █ ▓█████▄▄▄█████▓\n▓█████▄ ▒████▄    ▒██    ▒ ▓█   ▀ ▒██▀ ██▌ ██ ▀█   █ ▓█   ▀▓  ██▒ ▓▒\n▒██▒ ▄██▒██  ▀█▄  ░ ▓██▄   ▒███   ░██   █▌▓██  ▀█ ██▒▒███  ▒ ▓██░ ▒░\n▒██░█▀  ░██▄▄▄▄██   ▒   ██▒▒▓█  ▄ ░▓█▄   ▌▓██▒  ▐▌██▒▒▓█  ▄░ ▓██▓ ░ \n░▓█  ▀█▓ ▓█   ▓██▒▒██████▒▒░▒████▒░▒████▓ ▒██░   ▓██░░▒████▒ ▒██▒ ░ \n░▒▓███▀▒ ▒▒   ▓▒█░▒ ▒▓▒ ▒ ░░░ ▒░ ░ ▒▒▓  ▒ ░ ▒░   ▒ ▒ ░░ ▒░ ░ ▒ ░░   \n▒░▒   ░   ▒   ▒▒ ░░ ░▒  ░ ░ ░ ░  ░ ░ ▒  ▒ ░ ░░   ░ ▒░ ░ ░  ░   ░    \n ░    ░   ░   ▒   ░  ░  ░     ░    ░ ░  ░    ░   ░ ░    ░    ░      \n ░            ░  ░      ░     ░  ░   ░             ░    ░  ░         \n      ░                            ░                                   \n"}),(0,n.jsx)("p",{style:{textAlign:"center"},children:"Web 1.0 Lives Forever"}),e&&(0,n.jsx)("div",{style:{textAlign:"center",marginTop:"10px"},children:(0,n.jsxs)("p",{children:["Welcome back, ",(null==t?void 0:t.display_name)||(null==s?void 0:s.username),"!"]})})]})]}),(0,n.jsxs)("div",{className:"grid-98",children:[(0,n.jsxs)("div",{className:"window",children:[(0,n.jsxs)("div",{className:"window-title",children:[(0,n.jsx)("span",{children:"Active Sites"}),(0,n.jsx)("span",{children:"\xd7"})]}),(0,n.jsx)("div",{className:"window-content",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Site"}),(0,n.jsx)("th",{children:"Last Updated"}),(0,n.jsx)("th",{children:"Views"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("a",{href:"#",children:"cool-site-88"})}),(0,n.jsx)("td",{children:"2 hours ago"}),(0,n.jsx)("td",{children:"1,337"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("a",{href:"#",children:"retro-haven"})}),(0,n.jsx)("td",{children:"5 hours ago"}),(0,n.jsx)("td",{children:"420"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("a",{href:"#",children:"pixel-dreams"})}),(0,n.jsx)("td",{children:"8 hours ago"}),(0,n.jsx)("td",{children:"808"})]})]})]})})]}),(0,n.jsxs)("div",{className:"window",children:[(0,n.jsxs)("div",{className:"window-title",children:[(0,n.jsx)("span",{children:"Site Manager"}),(0,n.jsx)("span",{children:"\xd7"})]}),(0,n.jsxs)("div",{className:"window-content",children:[(0,n.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,n.jsx)("button",{className:"btn-98",disabled:!e,children:"Upload Files"}),(0,n.jsx)("button",{className:"btn-98",disabled:!e,children:"New Folder"}),(0,n.jsx)("button",{className:"btn-98",disabled:!e,children:"Edit HTML"})]}),e?(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Size"}),(0,n.jsx)("th",{children:"Type"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"\uD83D\uDCC1 images"}),(0,n.jsx)("td",{children:"--"}),(0,n.jsx)("td",{children:"Folder"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"\uD83D\uDCC4 index.html"}),(0,n.jsx)("td",{children:"2.4 KB"}),(0,n.jsx)("td",{children:"HTML"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"\uD83D\uDCC4 style.css"}),(0,n.jsx)("td",{children:"1.8 KB"}),(0,n.jsx)("td",{children:"CSS"})]})]})]}):(0,n.jsx)("div",{style:{padding:"10px",textAlign:"center"},children:(0,n.jsx)("p",{children:"Please log in to manage your site files."})})]})]}),(0,n.jsxs)("div",{className:"window",children:[(0,n.jsxs)("div",{className:"window-title",children:[(0,n.jsx)("span",{children:"Webring Navigator"}),(0,n.jsx)("span",{children:"\xd7"})]}),(0,n.jsxs)("div",{className:"window-content",children:[(0,n.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,n.jsx)("button",{className:"btn-98",children:"← Previous"}),(0,n.jsx)("button",{className:"btn-98",children:"Random"}),(0,n.jsx)("button",{className:"btn-98",children:"Next →"})]}),(0,n.jsx)("div",{className:"ascii-art",style:{fontSize:"10px"},children:"    [Your Site]\n        ↓\n  [Previous] → [Random] → [Next]\n        ↑\n    [Return]"})]})]}),(0,n.jsxs)("div",{className:"window",children:[(0,n.jsxs)("div",{className:"window-title",children:[(0,n.jsx)("span",{children:"Network Stats"}),(0,n.jsx)("span",{children:"\xd7"})]}),(0,n.jsx)("div",{className:"window-content",children:o?(0,n.jsx)("div",{className:"loading-98",style:{margin:"20px auto"}}):(0,n.jsx)("table",{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Total Sites:"}),(0,n.jsx)("td",{children:d.totalSites.toLocaleString()})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Active Today:"}),(0,n.jsx)("td",{children:d.activeToday.toLocaleString()})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Webrings:"}),(0,n.jsx)("td",{children:d.webrings.toLocaleString()})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"IPFS Nodes:"}),(0,n.jsx)("td",{children:d.ipfsNodes.toLocaleString()})]})]})})})]})]}),(0,n.jsxs)("div",{className:"status-bar-98",children:[(0,n.jsx)("div",{children:"Connected to IPFS Network"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"loading-98",style:{marginRight:"8px"}}),"Syncing with ",d.ipfsNodes," peers"]})]})]})}},3170:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var n=t(3827);t(4090);var i=t(8792),r=t(3779);function l(){let{user:e,isAuthenticated:s,isLoading:t,login:l,logout:a}=(0,r.a)();return(0,n.jsxs)("nav",{className:"navbar-98",children:[(0,n.jsx)("button",{className:"btn-98",children:"Start"}),(0,n.jsx)("div",{style:{marginLeft:"10px"},children:"|"}),(0,n.jsx)(i.default,{href:"/",className:"btn-98",children:"Home"}),(0,n.jsx)(i.default,{href:"/browse",className:"btn-98",children:"Browse"}),(0,n.jsx)(i.default,{href:"/webrings",className:"btn-98",children:"Webrings"}),t?(0,n.jsx)("div",{className:"loading-98",style:{marginLeft:"auto"}}):s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{href:"/dashboard",className:"btn-98",children:"My Dashboard"}),(0,n.jsx)(i.default,{href:"/profile",className:"btn-98",children:"Profile"}),(0,n.jsxs)("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>a(),children:["Logout (",null==e?void 0:e.username,")"]})]}):(0,n.jsx)("button",{className:"btn-98",style:{marginLeft:"auto"},onClick:()=>l(),children:"Login"}),(0,n.jsx)(i.default,{href:"/help",className:"btn-98",children:"Help"})]})}},3779:function(e,s,t){"use strict";t.d(s,{H:function(){return d},a:function(){return c}});var n=t(3827),i=t(4090),r=t(1126),l=t(8222);let a=(0,i.createContext)(void 0);function d(e){let{children:s}=e,{data:t,status:d}=(0,r.useSession)(),[c,o]=(0,i.useState)(null),[h,u]=(0,i.useState)(null),[x,j]=(0,i.useState)(!0),[f,m]=(0,i.useState)(null),p=async()=>{if(!(null==t?void 0:t.user)){o(null),u(null),j(!1);return}try{var e,s;j(!0),m(null);let t=await l.hi.user.getCurrentUser();if(t.error)throw Error(t.error);o((null===(e=t.data)||void 0===e?void 0:e.user)||null);let n=await l.hi.profile.getProfile();if(n.error)throw Error(n.error);u((null===(s=n.data)||void 0===s?void 0:s.profile)||null)}catch(e){console.error("Error fetching user data:",e),m(e.message)}finally{j(!1)}};(0,i.useEffect)(()=>{"loading"!==d&&p()},[t,d]);let g=async()=>{try{await (0,r.signIn)("indieauth",{callbackUrl:"/"})}catch(e){console.error("Login error:",e),m(e.message)}},v=async()=>{try{await (0,r.signOut)({callbackUrl:"/"}),o(null),u(null)}catch(e){console.error("Logout error:",e),m(e.message)}},w=async()=>{await p()};return(0,n.jsx)(a.Provider,{value:{user:c,profile:h,isLoading:x,isAuthenticated:!!c,error:f,login:g,logout:v,refreshUserData:w},children:s})}function c(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8222:function(e,s,t){"use strict";t.d(s,{hi:function(){return r}});class n extends Error{constructor(e,s){super(e),this.status=s,this.name="ApiError"}}async function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=await fetch(e,{...s,headers:{"Content-Type":"application/json",...s.headers}}),i=await t.json();if(!t.ok)throw new n(i.error||"An error occurred",t.status);return{data:i}}catch(e){return{error:e.message}}}let r={user:{getCurrentUser:async()=>i("/api/users?me=true"),getUserByUsername:async e=>i("/api/users/".concat(e)),updateUser:async e=>i("/api/users",{method:"PUT",body:JSON.stringify(e)}),listUsers:async function(){let{limit:e=10,offset:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i("/api/users?limit=".concat(e,"&offset=").concat(s))}},profile:{getProfile:async()=>i("/api/profile"),updateProfile:async e=>i("/api/profile",{method:"PUT",body:JSON.stringify(e)})},ipfs:{getContent:async function(){let{limit:e=10,offset:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i("/api/ipfs?limit=".concat(e,"&offset=").concat(s))},getContentByCid:async e=>i("/api/ipfs/".concat(e)),createContent:async e=>i("/api/ipfs",{method:"POST",body:JSON.stringify(e)}),updatePinStatus:async(e,s)=>i("/api/ipfs/".concat(e),{method:"PATCH",body:JSON.stringify({pinned:s})}),deleteContent:async e=>i("/api/ipfs/".concat(e),{method:"DELETE"})}}}},function(e){e.O(0,[126,792,971,69,744],function(){return e(e.s=2125)}),_N_E=e.O()}]);